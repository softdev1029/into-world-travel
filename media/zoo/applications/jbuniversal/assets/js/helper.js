;(function($,window,document,undefined){var JBZooHelper=function(){};var globalVars={};$.extend(JBZooHelper.prototype,{DEBUG:true,numberFormat:function(number,decimals,dec_point,thousands_sep){number=(number+'').replace(/[^0-9+\-Ee.]/g,'');var n=!isFinite(+number)?0:+number,prec=!isFinite(+decimals)?0:Math.abs(decimals),sep=(typeof thousands_sep==='undefined')?',':thousands_sep,dec=(typeof dec_point==='undefined')?'.':dec_point,s='',toFixedFix=function(n,prec){var k=Math.pow(10,prec);return''+(Math.round(n*k)/k).toFixed(prec);};s=(prec?toFixedFix(n,prec):''+Math.round(n)).split('.');if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep);}
if((s[1]||'').length<prec){s[1]=s[1]||'';s[1]+=new Array(prec-s[1].length+1).join('0');}
return s.join(dec);},logger:function(type,message,vars){var $jbzoo=this;if(!$jbzoo.DEBUG||typeof console=='undefined'){return false;}
var postfix="\t\tvars:";if(type=='e'){vars!==undefined?console.error(message+postfix,vars):console.error(message);}else if(type=='w'){vars!==undefined?console.warn(message+postfix,vars):console.warn(message);}else if(type=='i'){vars!==undefined?console.info(message+postfix,vars):console.info(message);}else if(type=='l'){vars!==undefined?console.log(message+postfix,vars):console.log(message);}else{vars!==undefined?console.log(message+postfix,vars):console.log(message);}},empty:function(mixedVar){var $jbzoo=this,undef,key,i,len;var emptyValues=[undef,null,false,0,'','0'];for(i=0,len=emptyValues.length;i<len;i++){if(mixedVar===emptyValues[i]){return true;}}
if(typeof mixedVar==='object'){if($jbzoo.countProps(mixedVar)==0){return true;}}
return false;},countProps:function(object){var count=0;for(var property in object){if(object.hasOwnProperty(property)){count++;}}
return count;},trace:function(asString){var $jbzoo=this;if(!$jbzoo.DEBUG||typeof console=='undefined'){return false;}
if($jbzoo.empty(asString)){asString=false;}
var getStackTrace=function(){var obj={};Error.captureStackTrace(obj,getStackTrace);return obj.stack;};if(asString){$jbzoo.dump(getStackTrace(),'trace',false);}else{if(typeof console!='undefined'){console.trace();}}},in_array:function(needle,haystack,strict){var found=false,key;strict=!!strict;for(key in haystack){if((strict&&haystack[key]===needle)||(!strict&&haystack[key]==needle)){found=true;break;}}
return found;},dump:function(vars,name,showTrace){if(typeof vars=='string'||typeof vars=='array'){var type=' ('+typeof(vars)+', '+vars.length+')';}else{var type=' ('+typeof(vars)+')';}
if(typeof vars=='string'){vars='"'+vars+'"';}
if(typeof name=='undefined'){name='...'+type+' = ';}else{name+=type+' = ';}
if(typeof showTrace=='undefined'){showTrace=false;}
if(window.parent&&window.parent.console&&window.parent.console.log){window.parent.console.log(name,vars);}
if(showTrace&&typeof console.trace!='undefined'){console.trace();}
return true;},isNumeric:function(mixed){return(typeof(mixed)==='number'||typeof(mixed)==='string')&&mixed!==''&&!isNaN(mixed);},toInt:function(mixed,base){var type=typeof mixed;if(type==='boolean'){return+mixed;}else if(type==='string'){mixed=mixed.replace(/\s/g,'');var tmp=parseInt(mixed,base||10);return(isNaN(tmp)||!isFinite(tmp))?0:tmp;}else if(type==='number'&&isFinite(mixed)){return mixed|0;}else{return 0;}},isInt:function(mixed){return mixed===+mixed&&isFinite(mixed)&&!(mixed%1);},toFloat:function(mixed){mixed=$.trim(mixed);mixed=mixed.replace(/\s/g,'');mixed=mixed.replace(',','.');mixed=(parseFloat(mixed)||0);mixed=JBZoo.round(mixed,9);return mixed;},round:function(value,precision,mode){var m,f,isHalf,sgn;precision|=0;m=Math.pow(10,precision);value*=m;sgn=(value>0)|-(value<0);isHalf=value%1===0.5*sgn;f=Math.floor(value);if(isHalf){switch(mode){case'ROUND_HALF_DOWN':value=f+(sgn<0);break;case'ROUND_HALF_EVEN':value=f+(f%2*sgn);break;case'ROUND_HALF_ODD':value=f+!(f%2);break;default:value=f+(sgn>0);}}
return(isHalf?value:Math.round(value))/m;},rand:function(min,max){var $jbzoo=this,argc=arguments.length;if(argc===0){min=0;max=2147483647;}else if(argc===1){$jbzoo.error('Warning: rand() expects exactly 2 parameters, 1 given');}else{min=$jbzoo.toInt(min);max=$jbzoo.toInt(max);}
return Math.floor(Math.random()*(max-min+1))+min;},implode:function(glue,pieces){var i='',retVal='',tGlue='';if(arguments.length===1){pieces=glue;glue='';}
if(typeof pieces==='object'){if(Object.prototype.toString.call(pieces)==='[object Array]'){return pieces.join(glue);}
for(i in pieces){retVal+=tGlue+pieces[i];tGlue=glue;}
return retVal;}
return pieces;},explode:function explode(delimiter,string,limit){if(arguments.length<2||typeof delimiter==='undefined'||typeof string==='undefined'){return null;}
if(delimiter===''||delimiter===false||delimiter===null){return false;}
if(typeof delimiter==='function'||typeof delimiter==='object'||typeof string==='function'||typeof string==='object'){return{0:''};}
if(delimiter===true)delimiter='1';delimiter+='';string+='';var s=string.split(delimiter);if(typeof limit==='undefined')return s;if(limit===0)limit=1;if(limit>0){if(limit>=s.length)return s;return s.slice(0,limit-1).concat([s.slice(limit-1).join(delimiter)]);}
if(-limit>=s.length)return[];s.splice(s.length+limit);return s;},stripTags:function(input,allowed){allowed=(((allowed||'')+'').toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join('');var tags=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,commentsAndPhpTags=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,result=input.replace(commentsAndPhpTags,'').replace(tags,function($0,$1){return allowed.indexOf('<'+$1.toLowerCase()+'>')>-1?$0:'';});result=$.trim(result);return result;},error:function(message){$.error('JBZoo / '+message);},ajax:function(options){$('body').JBZoo().JBZoo('ajax',options);},dumpBinds:function(selector){$.each($(selector).data('events'),function(eventName,event){dump(event,eventName);});},addVar:function(varName,value){globalVars[varName]=value;},mergeVar:function(varName,value){globalVars[varName]=(typeof globalVars[varName]=='undefined'?{}:globalVars[varName]);globalVars[varName]=$.extend(true,{},globalVars[varName],value);},getVar:function(varName,defaultValue){if(!this.empty(globalVars[varName])){return globalVars[varName];}
if(typeof defaultValue=='undefined'){return undefined;}
return defaultValue;},alert:function(message,closeCallback,params){$('body').JBZoo().JBZoo('alert',message,closeCallback,params);},confirm:function(message,yesCallback,noCallback,context){$('body').JBZoo().JBZoo('confirm',message,yesCallback,noCallback,context);}});window.JBZoo=new JBZooHelper();window.dump=function(){if(JBZoo.DEBUG){JBZoo.dump.apply(this,arguments)}};})(jQuery,window,document);
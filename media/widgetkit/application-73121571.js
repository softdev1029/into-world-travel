var widgetkit = widgetkit || {}; widgetkit.templates = {"media":"<div class=\"uk-modal-dialog uk-modal-dialog-large wk-noconflict\" data-media-path=\"images\">\n\n    <div class=\"uk-modal-header\">\n        <div class=\"uk-h2\">{{'Pick Media' | trans }}<\/div>\n    <\/div>\n\n        <div>\n            <span class=\"uk-button uk-button-primary uk-form-file\">{{'Upload' | trans }}<input id=\"wk-upload-select\" type=\"file\"><\/span>\n            <button type=\"button\" ng-click=\"vm.addFolder()\" class=\"uk-button\">{{'Add Folder' | trans }}<\/button>\n            <button type=\"button\" ng-click=\"vm.remove()\" ng-show=\"media | filter : { selected : true } | length\" class=\"uk-button uk-button-danger\">{{'Delete' | trans }}<\/button>\n        <\/div>\n\n        <ul class=\"uk-breadcrumb uk-margin\">\n            <li ng-repeat=\"folder in breadcrumbs\">\n                <span ng-if=\"$last\">{{ folder.title }}<\/span>\n                <a ng-if=\"!$last\" ng-click=\"vm.open(folder.path)\">{{ folder.title }}<\/a>\n            <\/li>\n        <\/ul>\n\n        <div class=\"uk-overflow-container\">\n            <ul class=\"uk-grid uk-grid-width-small-1-2 uk-grid-width-large-1-3 uk-grid-width-xlarge-1-4 uk-form\" data-uk-grid-margin data-uk-grid-match=\"{target:'.uk-panel'}\">\n\n                <li ng-repeat=\"folder in media | filter: { type: 'folder' }\">\n                    <div ng-click=\"selectItem(folder, $event)\" class=\"uk-panel uk-panel-box uk-text-center uk-visible-hover\" ng-class=\"folder.selected ? 'wk-selected':''\">\n                        <div class=\"uk-panel-teaser\">\n                            <div class=\"wk-thumbnail wk-thumbnail-folder\"><\/div>\n                        <\/div>\n                        <div class=\"uk-text-truncate\">\n                            <input type=\"checkbox\" ng-if=\"folder.title\" ng-click=\"$event.stopPropagation(); folder.selected = !folder.selected\" ng-checked=\"folder.selected\">\n                            <a ng-click=\"vm.open(folder.path)\">{{ folder.title || '..' }}<\/a>\n                        <\/div>\n                    <\/div>\n                <\/li>\n\n                <li ng-repeat=\"file in media | filter: { type: 'file' }\">\n                    <div ng-click=\"selectItem(file, $event)\" class=\"uk-panel uk-panel-box uk-text-center uk-visible-hover\" ng-class=\"file.selected ? 'wk-selected':''\">\n                        <div class=\"uk-panel-teaser\">\n                            <div ng-if=\"file.media\" class=\"wk-thumbnail\" style=\"background-image: url('{{ file.href }}');\"><\/div>\n                            <div ng-if=\"!file.media\" class=\"wk-thumbnail wk-thumbnail-file\"><\/div>\n                        <\/div>\n                        <div class=\"uk-text-nowrap uk-text-truncate\">\n                            <input type=\"checkbox\" ng-checked=\"file.selected\">\n                            {{ file.title }}\n                        <\/div>\n                    <\/div>\n                <\/li>\n\n            <\/ul>\n        <\/div>\n\n        <div id=\"wk-upload-drop\" class=\"uk-placeholder uk-text-center\">\n            {{'Drop files here' | trans}}\n        <\/div>\n\n        <div id=\"wk-upload-progressbar\" class=\"uk-progress uk-hidden\">\n            <div class=\"uk-progress-bar\" style=\"width: 0%;\"><\/div>\n        <\/div>\n\n    <div class=\"uk-modal-footer\">\n        <button type=\"button\" ng-click=\"vm.close()\" class=\"uk-button\">{{'Close' | trans}}<\/button>\n        <button type=\"button\" ng-click=\"vm.select()\" ng-disabled=\"!(media | filter : { selected : true } | length)\" class=\"uk-button uk-button-primary\">{{'Select' | trans}}<\/button>\n    <\/div>\n\n<\/div>\n","picker":"<div class=\"wk-noconflict\" ng-controller=\"pickerCtrl as vm\" ng-switch=\"vm.view\">\n    <div ng-switch-when=\"content\">\n\n        <div class=\"uk-modal-header uk-form uk-flex uk-flex-middle\">\n\n            <div class=\"uk-flex-item-1 uk-h2 uk-margin-remove\">{{'Select Widget' | trans}}<\/div>\n\n            <input class=\"uk-form-width-small uk-margin-small-right\" type=\"text\" ng-show=\"data.content | length\" ng-model=\"search.name\" placeholder=\"{{'Search...' | trans}}\">\n\n            <select class=\"uk-form-width-small uk-margin-small-right\" ng-model=\"search.data._widget.name\" ng-options=\"widget.name as widget.label for widget in vm.widgets\" ng-show=\"data.content | length\"><\/select>\n\n            <div class=\"uk-button-group uk-margin-small-right\" ng-show=\"data.content | length\">\n                <button class=\"uk-button\" ng-class=\"{'uk-active':(vm.viewmode == 'list')}\" ng-click=\"vm.setViewMode('list')\"><i class=\"uk-icon-bars\"><\/i><\/button>\n                <button class=\"uk-button\" ng-class=\"{'uk-active':(vm.viewmode == 'blocks')}\" ng-click=\"vm.setViewMode('blocks')\"><i class=\"uk-icon-th\"><\/i><\/button>\n            <\/div>\n\n            <button class=\"uk-button uk-button-primary\" type=\"button\" ng-click=\"vm.createContent()\">{{'New' | trans}}<\/button>\n\n        <\/div>\n\n        <ul class=\"uk-grid uk-grid-width-small-1-2 uk-grid-width-medium-1-3 uk-margin-large-top uk-margin-large-bottom\" data-uk-grid-margin ng-if=\"(vm.viewmode == 'blocks' && data.content | length)\">\n            <li ng-class=\"{'uk-active': vm.active(content)}\" ng-repeat=\"content in data.content | toArray | filter:search | orderBy:'name'\">\n\n                <div class=\"uk-panel uk-panel-box uk-panel-box-hover uk-visible-hover\" ng-click=\"vm.update(content)\">\n\n                    <div class=\"uk-panel-teaser uk-cover-background wk-image\" ng-style=\"{'background-image': 'url(' + vm.previewContent(content) + ')'}\"><\/div>\n\n                    <a class=\"uk-position-cover\" ng-click=\"vm.update(content)\"><\/a>\n\n                    <p class=\"uk-h4 uk-margin-top-remove uk-flex\">\n                        <span class=\"uk-flex-item-1 uk-text-truncate\">{{ content.name }}<\/span>\n                        <a class=\"uk-icon-hover uk-icon-pencil  uk-invisible uk-margin-small-right\" ng-click=\"vm.editContent(content, 'content'); $event.stopPropagation()\" title=\"{{'Edit' | trans}}\"><\/a>\n                        <a class=\"uk-icon-hover uk-icon-files-o uk-invisible uk-margin-small-right\" ng-click=\"vm.copyContent(content); $event.stopPropagation()\" title=\"{{'Copy' | trans}}\"><\/a>\n                        <a class=\"uk-icon-hover uk-icon-trash-o uk-invisible\" ng-click=\"vm.deleteContent(content); $event.stopPropagation()\"><\/a>\n                    <\/p>\n\n                <\/div>\n            <\/li>\n        <\/ul>\n\n        <table class=\"uk-table uk-table-hover uk-table-middle wk-table uk-margin-large-top uk-margin-large-bottom\" ng-if=\"(vm.viewmode == 'list' && data.content | length)\">\n            <tbody>\n                <tr class=\"uk-visible-hover-inline\" ng-class=\"{'uk-active': vm.active(content)}\" ng-repeat=\"content in data.content | toArray | filter:search | orderBy:'name'\">\n                    <td class=\"uk-h4 uk-link-reset\">\n                        <a ng-click=\"vm.update(content)\">\n                            <div class=\"wk-preview-thumb uk-cover-background uk-margin-small-right\" ng-style=\"{'background-image': 'url(' + vm.previewContent(content) + ')'}\"><\/div>\n                            {{ content.name }}\n                        <\/a>\n                    <\/td>\n                    <td class=\"uk-h5 uk-text-nowrap uk-text-muted\">{{ vm.getWidget(content).label }}<\/td>\n                    <td class=\"wk-table-width-minimum uk-text-nowrap\">\n                        <a class=\"uk-icon-hover uk-icon-pencil  uk-invisible uk-margin-small-right\" ng-click=\"vm.editContent(content, 'content'); $event.stopPropagation()\" title=\"{{'Edit' | trans}}\"><\/a>\n                        <a class=\"uk-icon-hover uk-icon-files-o uk-invisible uk-margin-small-right\" ng-click=\"vm.copyContent(content); $event.stopPropagation()\" title=\"{{'Copy' | trans}}\"><\/a>\n                        <a class=\"uk-icon-hover uk-icon-trash-o uk-invisible\" ng-click=\"vm.deleteContent(content); $event.stopPropagation()\" title=\"{{'Delete' | trans}}\"><\/a>\n                    <\/td>\n                <\/tr>\n            <\/tbody>\n        <\/table>\n\n        <p class=\"uk-text-large uk-text-muted uk-text-center\" ng-hide=\"data.content | length\">\n            {{\"You haven't created any widgets yet.\" | trans}}\n        <\/p>\n\n        <div class=\"uk-modal-footer\">\n            <button class=\"uk-button\" type=\"button\" ng-click=\"vm.cancel()\">{{'Close' | trans}}<\/button>\n        <\/div>\n\n    <\/div>\n    <div ng-switch-when=\"contentConfig\">\n\n        <div class=\"uk-modal-header wk-modal-header-blank\">\n            <div class=\"uk-h2\">{{content.id ? ('Edit %content%' | trans: {'content': content.name}) : 'New Widget' | trans}}<\/div>\n        <\/div>\n\n        <div class=\"uk-modal-header uk-form\">\n\n            <select class=\"uk-form-large uk-width-1-1\" ng-model=\"content.type\" ng-options=\"type.name as type.label for type in data.types | toArray\">\n                <option value=\"\">- {{'Select Content Type' | trans}} -<\/option>\n            <\/select>\n\n        <\/div>\n\n        <ul class=\"uk-grid uk-grid-width-1-2 uk-grid-width-small-1-3 uk-grid-width-medium-1-4 uk-margin-large-top uk-margin-large-bottom\" data-uk-grid-margin>\n            <li ng-repeat=\"wgt in data.widgets | toArray | filter:{core: 'true'}\" ng-class=\"{'uk-active':(content.data._widget.name == wgt.name)}\">\n\n                <a class=\"uk-panel uk-panel-hover uk-text-center\" ng-click=\"vm.selectWidget(wgt)\">\n                    <img ng-src=\"{{ wgt.icon }}\" width=\"40\" height=\"40\" alt=\"{{ wgt.label }}\">\n                    <h3 class=\"uk-h4 uk-margin-top uk-margin-bottom-remove\">{{ wgt.label }}<\/h3>\n                <\/a>\n\n            <\/li>\n        <\/ul>\n\n        <div ng-show=\"(data.widgets | toArray | filter:{core: '!true'}).length\">\n\n            <h3 class=\"wk-heading\">{{'Theme' | trans}}<\/h3>\n\n            <ul class=\"uk-grid uk-grid-width-1-2 uk-grid-width-small-1-3 uk-grid-width-medium-1-4 uk-margin-large-top uk-margin-large-bottom\" data-uk-grid-margin>\n                <li ng-repeat=\"wgt in data.widgets | toArray | filter:{core: '!true'}\" ng-class=\"{'uk-active':(content.data._widget.name == wgt.name)}\">\n\n                    <a class=\"uk-panel uk-panel-hover uk-text-center\" ng-click=\"vm.selectWidget(wgt)\">\n                        <img ng-src=\"{{ wgt.icon }}\" width=\"40\" height=\"40\" alt=\"{{ wgt.label }}\">\n                        <h3 class=\"uk-h4 uk-margin-top uk-margin-bottom-remove\">{{ wgt.label }}<\/h3>\n                    <\/a>\n\n                <\/li>\n            <\/ul>\n        <\/div>\n\n        <div class=\"uk-modal-footer\">\n            <button class=\"uk-button\" ng-click=\"content.id ? vm.editContent(content, 'content') : vm.setView('content')\">{{'Cancel' | trans}}<\/button>\n            <button class=\"uk-button uk-button-primary\" ng-click=\"vm.editContent(content, 'content')\" ng-disabled=\"!content.type || !content.data._widget.name\">{{content.id ? 'Apply' : 'Create' | trans}}<\/button>\n        <\/div>\n\n    <\/div>\n    <div ng-switch-when=\"contentEdit\">\n\n        <form class=\"uk-margin-remove\" name=\"form\" novalidate>\n\n            <div class=\"uk-modal-header uk-form\">\n                <div class=\"uk-flex uk-flex-middle\">\n                    <div class=\"uk-margin-small-right\">\n                        <img ng-src=\"{{ widget.icon }}\" width=\"30\" height=\"30\" alt=\"{{ widget.label }}\">\n                    <\/div>\n                    <div class=\"uk-flex-item-1 uk-margin-right\">\n                        <input class=\"uk-form-large uk-form-blank wk-form-blank uk-width-1-1\" type=\"text\" ng-model=\"content.name\" placeholder=\"{{'Name' | trans}}\" required autofocus>\n                    <\/div>\n                    <div>\n                        <ul class=\"uk-subnav wk-subnav\">\n                            <li ng-class=\"{'uk-active':(vm.include == 'content')}\"><a ng-click=\"vm.setView('contentEdit', 'content')\">{{'Content' | trans}}<\/a><\/li>\n                            <li ng-class=\"{'uk-active':(vm.include == 'widget')}\"><a ng-click=\"vm.setView('contentEdit', 'widget')\">{{'Settings' | trans}}<\/a><\/li>\n                            <li class=\"wk-subnav-divider\"><a ng-click=\"vm.setView('contentConfig')\"><i class=\"uk-icon-cog\"><\/i><\/a><\/li>\n                        <\/ul>\n                    <\/div>\n                <\/div>\n            <\/div>\n\n            <div ng-show=\"vm.include == 'content'\" ng-include=\"content.type + '.edit'\"><\/div>\n            <div ng-show=\"vm.include == 'widget'\" ng-include=\"widget.name + '.edit'\"><\/div>\n\n            <div class=\"uk-modal-footer\">\n                <button class=\"uk-button\" type=\"button\" ng-show=\"vm.mode != 'edit'\" ng-click=\"vm.setView('content')\">{{'Cancel' | trans}}<\/button>\n                <button class=\"uk-button\" type=\"button\" ng-show=\"vm.mode == 'edit'\" ng-click=\"vm.update(content)\">{{'Close' | trans}}<\/button>\n                <button class=\"uk-button uk-button-primary\" ng-click=\"vm.saveContent(content)\" ng-disabled=\"form.$invalid\">{{'Save' | trans}}<\/button>\n            <\/div>\n\n        <\/form>\n\n    <\/div>\n<\/div>\n"};

!function(t,e){t.module("Application",[]).factory("Application",["name",function(n){return t.extend({url:function(e,n){var r=[],o=this.config.route;return t.forEach(t.extend({p:e},n),function(t,e){r.push(e+"="+t)}),r.length&&(o+=(-1!=o.indexOf("?")?"&":"?")+r.join("&")),o},baseUrl:function(){return this.config.url},templateUrl:function(t){return this.url("template",{name:t})}},e[n])}]).filter("first",["$filter",function(t){return function(e){return t("toArray")(e)[0]}}]).filter("length",["$filter",function(t){return function(e){return t("toArray")(e).length}}]).filter("toArray",function(){return function(e){return t.isObject(e)?Object.keys(e).filter(function(t){return"$"!==t.charAt(0)}).map(function(t){return e[t]}):t.isArray(e)?e:[]}}).config(["$provide","$httpProvider",function(e,n){e.decorator("$templateCache",["$delegate","Application",function(e,n){return t.forEach(n.templates,function(t,n){e.put(n,t)}),e}]),e.decorator("$templateRequest",["$delegate","Application",function(t,e){return function(n,r){return e.templates[n]||(n=e.templateUrl(n)),t(n,r)}}]),n.interceptors.push(["Application",function(t){return{request:function(e){return"PUT"!=e.method&&"DELETE"!=e.method||(e.headers["X-HTTP-Method-Override"]=e.method,e.method="POST"),"POST"==e.method&&(e.headers["X-XSRF-TOKEN"]=t.config.csrf),e}}}])}]),t.element(e.document).ready(function(){var n=t.element(this).find("[data-app]");t.forEach(n,function(n){var r=t.element(n).data("app");e[r]&&t.bootstrap(n,[r])})})}(angular,window);

!function(a,e){a.module("Application").factory("Translator",function(){return e.Translator}).config(["$provide",function(a){a.decorator("Translator",["$delegate","Application",function(a,e){a.locale=e.config.locale;for(var s in e.config.locales)for(var r in e.config.locales[s])a.add(r,e.config.locales[s][r]);return a}])}]).filter("trans",["Translator",function(a){return function(e,s){return a.trans(e,s)}}]).filter("transChoice",["Translator",function(a){return function(e,s,r){return a.transChoice(e,s,r)}}])}(angular,window);var Translator=function(a,e){function s(a,e){var s,r=Translator.placeHolderPrefix,n=Translator.placeHolderSuffix;for(s in e){var c=new RegExp(r+s+n,"g");c.test(a)&&(a=a.replace(c,e[s]))}return a}function r(a,s,r,c,t){if(r=r||c||t,e==l[r]){if(e==l[t])return a;r=t}if(e===s||null===s)for(c=0;c<i.length;c++)if(n(r,i[c],a)||n(t,i[c],a)){s=i[c];break}if(n(r,s,a))return l[r][s][a];for(var o,f;2<r.length&&(c=r.length,o=r.split(/[\s_]+/),f=o[o.length-1],f=f.length,1!==o.length);)if(r=r.substring(0,c-(f+1)),n(r,s,a))return l[r][s][a];return n(t,s,a)?l[t][s][a]:a}function n(a,s,r){return e!=l[a]&&e!=l[a][s]&&e!=l[a][s][r]}function c(a){return"-Inf"===a?Number.NEGATIVE_INFINITY:"+Inf"===a||"Inf"===a?Number.POSITIVE_INFINITY:parseInt(a,10)}function t(a,e){var s=e;switch("pt_BR"===s&&(s="xbr"),3<s.length&&(s=s.split("_")[0]),s){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1==a?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===a||1==a?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2;case"cs":case"sk":return 1==a?0:2<=a&&4>=a?1:2;case"ga":return 1==a?0:2==a?1:2;case"lt":return 1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?1:2;case"sl":return 1==a%100?0:2==a%100?1:3==a%100||4==a%100?2:3;case"mk":return 1==a%10?0:1;case"mt":return 1==a?0:0===a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3;case"lv":return 0===a?0:1==a%10&&11!=a%100?1:2;case"pl":return 1==a?0:2<=a%10&&4>=a%10&&(12>a%100||14<a%100)?1:2;case"cy":return 1==a?0:2==a?1:8==a||11==a?2:3;case"ro":return 1==a?0:0===a||0<a%100&&20>a%100?1:2;case"ar":return 0===a?0:1==a?1:2==a?2:3<=a&&10>=a?3:11<=a&&99>=a?4:5;default:return 0}}var l={},i=[],o=new RegExp(/^\w+\: +(.+)$/),f=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),u=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/);return{locale:a.documentElement.lang.replace("-","_"),fallback:"en",placeHolderPrefix:"%",placeHolderSuffix:"%",defaultDomain:"messages",pluralSeparator:"|",add:function(a,e,s,r){r=r||this.locale||this.fallback,s=s||this.defaultDomain,l[r]||(l[r]={}),l[r][s]||(l[r][s]={}),l[r][s][a]=e;a:{for(a=0;a<i.length;a++)if(s===i[a]){a=!0;break a}a=!1}return!1===a&&i.push(s),this},trans:function(a,e,n,c){return a=r(a,n,c,this.locale,this.fallback),s(a,e||{})},transChoice:function(a,n,l,i,h){var p=r(a,i,h,this.locale,this.fallback);if(n=parseInt(n,10),e!=p&&!isNaN(n))a:{h=h||this.locale||this.fallback;var d,g;a=[],i=[];var m=p.split(Translator.pluralSeparator),p=[];for(d=0;d<m.length;d++)p=m[d],f.test(p)?(p=p.match(f),a[p[0]]=p[p.length-1]):o.test(p)?(p=p.match(o),i.push(p[1])):i.push(p);for(g in a)if(u.test(g))if(p=g.match(u),p[1]){var b,p=p[2].split(",");for(b in p)if(n==p[b]){p=a[g];break a}}else if(d=c(p[4]),m=c(p[5]),("["===p[3]?n>=d:n>d)&&("]"===p[6]?n<=m:n<m)){p=a[g];break a}p=i[t(n,h)]||i[0]||e}return s(p,l||{})},fromJSON:function(a){if("string"==typeof a&&(a=JSON.parse(a)),a.locale&&(this.locale=a.locale),a.fallback&&(this.fallback=a.fallback),a.defaultDomain&&(this.defaultDomain=a.defaultDomain),a.translations)for(var e in a.translations)for(var s in a.translations[e])for(var r in a.translations[e][s])this.add(r,a.translations[e][s][r],s,e);return this},reset:function(){l={},i=[],this.locale=a.documentElement.lang.replace("-","_")}}}(document,void 0);


;(function($,window,document,undefined){var autoSubmitExclude=['.jsMoney','.jsNoSubmit'].join(', '),autoSubmitFileds=['select','input','input[type=text]','input[type=radio]','input[type=checkbox]','.jsSlider'].join(', '),resetExclude=[':reset',':submit',':button','input[type="hidden"]','.jsMoney'].join(', ');jQuery(function($){$('.jsFilter .jsReset').unbind();});JBZoo.widget('JBZoo.Filter',{'autosubmit':0,'submitTimeOut':100},{init:function($this){$this._initAutoSubmit();},_initAutoSubmit:function(){var $this=this,$fields=$this.$(autoSubmitFileds).not(autoSubmitExclude);if(!$this.options.autosubmit){return false;}
$this.on('change',$fields,function(){$this._submitForm();});$this.on('change.JBZooSlider',$fields,function(){$this._delay(function(){$this._submitForm();},1000,'submitForm');});},_submitForm:function(){var $this=this,$form=$this.el.is('form')?$this.el:$this.$('form');if(!$this.options.autosubmit){return false;}
$this._delay(function(){$form.trigger('submit').submit();},$this.options.submitTimeOut,'submitForm');return true;},'click .jsReset':function(e,$this){var $inputList=$this.el.find(':input, .jsSlider').not(resetExclude);$inputList.each(function(n,input){var $input=$(input);if($input.is('select')){$input.JBZooSelect().JBZooSelect('reset');}else if($input.is('.jbcolor-input')){var $colors=$input.closest('.jbzoo-colors');$colors.JBZooColors('reset');}else if($input.is('[type=radio]')){var $group=$input.closest('.jbfilter-row');$('input[type=radio]:eq(0)',$group).attr('checked','checked');}else if($input.is('[type=checkbox]')){$input.removeAttr('checked');}else if($input.is('.jsSlider')&&$input.data('JBZooSlider')){$input.JBZooSlider('reset');}else if($input.is('.jsSlider')){var slider=$input.find('.ui-slider').data('slider');slider.values([slider.options.min,slider.options.max]);$('.slider-value-0',$input).html(JBZoo.numberFormat(slider.options.min,0,"."," "));$('.slider-value-1',$input).html(JBZoo.numberFormat(slider.options.max,0,"."," "));$('[type=hidden][name*="range"]',$input).val(slider.options.min+'/'+slider.options.max);}else{$input.val('');}});$this._submitForm();return false;}});})(jQuery,window,document);
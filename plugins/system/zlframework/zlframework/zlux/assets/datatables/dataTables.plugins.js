/**
 * @package     ZOOlanders
 * @version     3.3.27
 * @author      ZOOlanders - http://zoolanders.com
 * @license     GNU General Public License v2 or later
 */

!function(a){jQuery.fn.dataTableExt.oApi.fnGetColumnData=function(a,i,e,t,n){if(void 0===i)return[];void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0);var l;l=1==t?a.aiDisplay:a.aiDisplayMaster;for(var s=new Array,o=0,r=l.length;o<r;o++){iRow=l[o];var f=this.fnGetData(iRow,i);1==n&&0==f.length||(1==e&&jQuery.inArray(f,s)>-1||s.push(f))}return s},a.fn.dataTableExt.oApi.fnReloadAjax=function(a,i,e,t){if(void 0!==i&&null!=i&&(a.sAjaxSource=i),a.oFeatures.bServerSide)return void this.fnDraw();this.oApi._fnProcessingDisplay(a,!0);var n=this,l=a._iDisplayStart,s=[];this.oApi._fnServerParams(a,s),a.fnServerData.call(a.oInstance,a.sAjaxSource,s,function(i){n.oApi._fnClearTable(a);for(var s=""!==a.sAjaxDataProp?n.oApi._fnGetObjectDataFn(a.sAjaxDataProp)(i):i,o=0;o<s.length;o++)n.oApi._fnAddData(a,s[o]);a.aiDisplay=a.aiDisplayMaster.slice(),void 0!==t&&!0===t?(a._iDisplayStart=l,n.fnDraw(!1)):n.fnDraw(),n.oApi._fnProcessingDisplay(a,!1),"function"==typeof e&&null!=e&&e(a)},a)},a.fn.dataTableExt.aoFeatures.push({fnInit:function(a){return new i(a)},cFeature:"F",sFeature:"Filtering"});var i=function(i){var t=a('<div class="zlux-x-filter-input_wrapper" />'),n=null;return a('<input type="text" class="zlux-x-filter-input" />').on("keyup",function(t){var l=a(this).val();clearTimeout(n),""==l&&e(i,""),13==(t.keyCode?t.keyCode:t.which)&&e(i,l),n=setTimeout(function(){e(i,l)},500)}).appendTo(t),t[0]},e=function(a,i){i!=a.oPreviousSearch.sSearch&&a.oInstance.fnFilter(i)};a.extend(!0,a.fn.dataTable.defaults,{sDom:"<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",sPaginationType:"bootstrap",oLanguage:{sProcessing:'<span class="zlux-loader-circle-big"></span>',sLengthMenu:"_MENU_ records per page"},bProcessing:!1,bLengthChange:!1}),a.extend(a.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-horizontal zlux-datatables",sStripeOdd:"",sStripeEven:""}),a.fn.dataTableExt.oApi.fnPagingInfo=function(a){return{iStart:a._iDisplayStart,iEnd:a.fnDisplayEnd(),iLength:a._iDisplayLength,iTotal:a.fnRecordsTotal(),iFilteredTotal:a.fnRecordsDisplay(),iPage:-1===a._iDisplayLength?0:Math.ceil(a._iDisplayStart/a._iDisplayLength),iTotalPages:-1===a._iDisplayLength?0:Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength)}};var t=function(a){a.aoDrawCallback.push({fn:function(){for(var i=a.oInstance.fnPagingInfo().iTotalPages>1,e=0,t=a.aanFeatures.p.length;e<t;e++)a.aanFeatures.p[e].style.display=i?"block":"none"},sName:"PagingControl"})};a.fn.dataTableExt.aoFeatures.push({fnInit:function(a){new t(a)},cFeature:"P",sFeature:"PagingControl"}),a.extend(a.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(i,e,t){var n=(i.oLanguage.oPaginate,function(a){a.preventDefault(),i.oApi._fnPageChange(i,a.data.action)&&t(i)});a(e).addClass("pagination").append('<ul class="zlux-x-pagination"><li class="first disabled"><a href="#" class="zlux-x-btn"><i class="icon-double-angle-left"></i></a></li><li class="prev disabled"><a href="#" class="zlux-x-btn"><i class="icon-angle-left"></i></a></li><li class="next disabled"><a href="#" class="zlux-x-btn"><i class="icon-angle-right"></i></a></li><li class="last disabled"><a href="#" class="zlux-x-btn"><i class="icon-double-angle-right"></i></a></li></ul>');var l=a("a",e);a(l[0]).bind("click.DT",{action:"first"},n),a(l[1]).bind("click.DT",{action:"previous"},n),a(l[2]).bind("click.DT",{action:"next"},n),a(l[3]).bind("click.DT",{action:"last"},n)},fnUpdate:function(i,e){var t,n,l,s,o,r,f=i.oInstance.fnPagingInfo(),c=i.aanFeatures.p,p=Math.floor(2);for(f.iTotalPages<4?(o=1,r=f.iTotalPages):f.iPage<=p?(o=1,r=4):f.iPage>=f.iTotalPages-p?(o=f.iTotalPages-4+1,r=f.iTotalPages):(o=f.iPage-p+1,r=o+4-1),t=0,n=c.length;t<n;t++){for(a("li:gt(1)",c[t]).filter(":not(:last)").not(".next").remove(),l=o;l<=r;l++)s=l==f.iPage+1?'class="active"':"",a("<li "+s+'><a href="#">'+l+"</a></li>").insertBefore(a("li.next, li.last",c[t])[0]).bind("click",function(t){t.preventDefault(),i._iDisplayStart=(parseInt(a("a",this).text(),10)-1)*f.iLength,e(i)});0===f.iPage?a("li.first, li.prev",c[t]).addClass("disabled"):a("li.first, li.prev",c[t]).removeClass("disabled"),f.iPage===f.iTotalPages-1||0===f.iTotalPages?a("li.next, li.last",c[t]).addClass("disabled"):a("li.next, li.last",c[t]).removeClass("disabled")}}}})}(jQuery);